# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç: iOS Shortcuts Integration

## –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python app_ios_shortcuts.py
```

–ê–±–æ –∑ —è–≤–Ω–∏–º –≤–∫–∞–∑–∞–Ω–Ω—è–º –ø–æ—Ä—Ç—É:

```bash
IOS_SHORTCUTS_PORT=5007 python -u app_ios_shortcuts.py
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ **–ø–æ—Ä—Ç—ñ 5007** (—â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏) —ñ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö.

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª `app_ios_shortcuts.py` –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ –ø—Ä–æ—Ü–µ—Å–∞–º–∏.

## IP –∞–¥—Ä–µ—Å–∏ MacBook

### –õ–æ–∫–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞ (Wi-Fi)
```
192.168.31.219
```

### Tailscale (Tailnet)
```
100.67.135.103
```

**URL –¥–ª—è iOS Shortcuts:**

**–õ–æ–∫–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞:**
```
http://192.168.31.219:5007/process
```

**Tailscale (–ø—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–æ—ó –º–µ—Ä–µ–∂—ñ, —è–∫—â–æ iPhone —Ç–∞–∫–æ–∂ –≤ Tailscale):**
```
http://100.67.135.103:5007/process
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
./test_ios_shortcuts_api.sh
```

## –°—Ç–≤–æ—Ä–µ–Ω–Ω—è iOS Shortcut

1. –í—ñ–¥–∫—Ä–∏—Ç–∏ **Shortcuts** app –Ω–∞ iPhone
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π Shortcut
3. –î–æ–¥–∞—Ç–∏ –¥—ñ—ó:
   - **Record Audio** –∞–±–æ **Get File**
   - **Get Contents of URL** (POST)
     - URL: `http://192.168.31.219:5007/process` (–ª–æ–∫–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞)
     - –ê–±–æ: `http://100.67.135.103:5007/process` (Tailscale)
     - Method: POST
     - Body: Form Data
       - `file`: [Audio File]
       - `num_speakers`: [Text, optional]
       - `language`: `uk` (optional)
   - **Get Dictionary from Input**
   - **Parse JSON** —Ç–∞ **Format Results**
   - **Show Result**

–î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó: –¥–∏–≤. `IOS_SHORTCUTS_SETUP.md`

## –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

```json
{
  "success": true,
  "duration": 125.5,
  "full_text": "–ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç...",
  "segments": [
    {
      "speaker": 0,
      "start": 0.5,
      "end": 4.2,
      "text": "–¢–µ–∫—Å—Ç —Å–µ–≥–º–µ–Ω—Ç—É"
    }
  ]
}
```

## –í–∞–∂–ª–∏–≤–æ

- **–õ–æ–∫–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞:** MacBook —Ç–∞ iPhone –º–∞—é—Ç—å –±—É—Ç–∏ –≤ –æ–¥–Ω—ñ–π Wi‚ÄëFi –º–µ—Ä–µ–∂—ñ
- **Tailscale:** –ü—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–æ—ó –º–µ—Ä–µ–∂—ñ, —è–∫—â–æ –æ–±–∏–¥–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó –≤ Tailscale
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å: 
  - –õ–æ–∫–∞–ª—å–Ω–æ: `http://192.168.31.219:5007/api/health`
  - Tailscale: `http://100.67.135.103:5007/api/health`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É: **100 MB**

