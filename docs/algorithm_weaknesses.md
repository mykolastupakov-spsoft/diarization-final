# –°–ª–∞–±–∫—ñ –º—ñ—Å—Ü—è –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö –æ–±—Ä–æ–±–∫–∏

## üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 1. **–ù–µ–ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å `existsInPrimary`**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î `false` –Ω–∞ –ø–æ—á–∞—Ç–∫—É (—Ä—è–¥–æ–∫ 74), –∞–ª–µ –ø–æ—Ç—ñ–º –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç `{ found, similarity, timeMatch }`.
```javascript
if (!segmentText || segmentText.length < 3) return false; // ‚ùå –ü–æ–≤–µ—Ä—Ç–∞—î boolean
// ...
return { found: true, similarity: 1.0, timeMatch: true }; // ‚úÖ –ü–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç
```
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –ú–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ–º–∏–ª–æ–∫ —Ç–∏–ø—É `Cannot read property 'found' of false`.

### 2. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –º—ñ–∂ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏**
**–ü—Ä–æ–±–ª–µ–º–∞**: –û–¥–Ω–∞ —ñ —Ç–∞ –∂ —Ñ—Ä–∞–∑–∞ –º–æ–∂–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ —ñ –≤ Blue, —ñ –≤ Green, —ñ –≤ Red –æ–¥–Ω–æ—á–∞—Å–Ω–æ.
- `seenTexts` –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–ø—ñ–∫–µ—Ä–∞
- –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è –º—ñ–∂ Blue/Green/Red
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –û–¥–Ω–∞ —Ñ—Ä–∞–∑–∞ –º–æ–∂–µ –≤–∏–¥—ñ–ª—è—Ç–∏—Å—è –∫—ñ–ª—å–∫–æ–º–∞ –∫–æ–ª—å–æ—Ä–∞–º–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

### 3. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ —Ñ—Ä–∞–∑–∞–º–∏**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—Ä–∞–∑–∏ < 3 —Å–∏–º–≤–æ–ª—ñ–≤ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é.
```javascript
if (normalizedText.length < 3) continue; // –Ü–≥–Ω–æ—Ä—É—î "Hi", "OK", "No"
```
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –í–∞–∂–ª–∏–≤—ñ –∫–æ—Ä–æ—Ç–∫—ñ —Ñ—Ä–∞–∑–∏ –Ω–µ –≤–∏–¥—ñ–ª—è—é—Ç—å—Å—è.

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 4. **Time tolerance –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–º –¥–ª—è –¥–æ–≤–≥–∏—Ö —Ñ—Ä–∞–∑**
**–ü—Ä–æ–±–ª–µ–º–∞**: 
- Blue: 2.5 —Å–µ–∫—É–Ω–¥–∏
- Green: 3.0 —Å–µ–∫—É–Ω–¥–∏  
- Red: 2.5 —Å–µ–∫—É–Ω–¥–∏

–î–ª—è –¥–æ–≤–≥–∏—Ö —Ñ—Ä–∞–∑ (10+ —Å–µ–∫—É–Ω–¥) —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ, –æ—Å–æ–±–ª–∏–≤–æ —è–∫—â–æ primary —ñ voice tracks –º–∞—é—Ç—å —Ä—ñ–∑–Ω—É —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—é.

### 5. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è —Å–µ–≥–º–µ–Ω—Ç—ñ–≤ –∑–∞ —á–∞—Å–æ–º**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç—ñ–ª—å–∫–∏ `start` —á–∞—Å, –∞–ª–µ –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—î `end` —á–∞—Å —ñ –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è —Å–µ–≥–º–µ–Ω—Ç—ñ–≤.
```javascript
const timeDistance = Math.abs(segmentStart - primaryStart);
if (timeDistance > timeTolerance) continue; // ‚ùå –ù–µ –≤—Ä–∞—Ö–æ–≤—É—î end time
```
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –ú–æ–∂–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –∑–±—ñ–≥–∏, —è–∫—â–æ —Å–µ–≥–º–µ–Ω—Ç–∏ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞—é—Ç—å—Å—è, –∞–ª–µ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –≤ —Ä—ñ–∑–Ω–∏–π —á–∞—Å.

### 6. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Ç–µ–∫—Å—Ç—É**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–¥–∞–ª—è—î –≤—Å—é –ø—É–Ω–∫—Ç—É–∞—Ü—ñ—é, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ false positives.
```javascript
.replace(/[^\w\s]/g, ' ') // –í–∏–¥–∞–ª—è—î –≤—Å—é –ø—É–Ω–∫—Ç—É–∞—Ü—ñ—é
```
**–ü—Ä–∏–∫–ª–∞–¥**: "I'm" —ñ "I am" —Å—Ç–∞–Ω—É—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –ø—ñ—Å–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó, —Ö–æ—á–∞ —Ü–µ —Ä—ñ–∑–Ω—ñ —Ñ—Ä–∞–∑–∏.

### 7. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –¥–ª—è parseFloat**
**–ü—Ä–æ–±–ª–µ–º–∞**: –Ø–∫—â–æ `segment.start` –∞–±–æ `segment.end` –Ω–µ —î —á–∏—Å–ª–æ–º, `parseFloat` –ø–æ–≤–µ—Ä–Ω–µ `NaN`.
```javascript
const segmentStart = parseFloat(segment.start) || 0; // NaN || 0 = 0 ‚úÖ
```
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –ú–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø–æ—Ä—ñ–≤–Ω—è–Ω—å —á–∞—Å—É.

### 8. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é –æ–±—á–∏—Å–ª–µ–Ω—å**
**–ü—Ä–æ–±–ª–µ–º–∞**: `analyzeText` –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ, –∞–ª–µ Green —ñ Red –Ω–µ –º–∞—é—Ç—å –¥–æ—Å—Ç—É–ø—É –æ–¥–∏–Ω –¥–æ –æ–¥–Ω–æ–≥–æ –¥–æ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó.
- `findDiscrepancies` (Red) –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É `findOverlaps` (Green)
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

## üü° –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 9. **–ü–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–æ—Å—Ç—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º–∏**
- Blue: 0.65
- Green: 0.6
- Red: 0.55

–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø–æ—Ä–æ–≥–∞–º–∏ –Ω–µ–≤–µ–ª–∏–∫–∞ (0.05), —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–æ—Å—Ç—ñ.

### 10. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ edge cases**
- –ü–æ—Ä–æ–∂–Ω—ñ –º–∞—Å–∏–≤–∏ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
- Null/undefined –∑–Ω–∞—á–µ–Ω–Ω—è
- –°–µ–≥–º–µ–Ω—Ç–∏ –∑ `end < start`
- –°–µ–≥–º–µ–Ω—Ç–∏ –∑ –≤—ñ–¥'—î–º–Ω–∏–º —á–∞—Å–æ–º

### 11. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é —Å–ª—ñ–≤ –≤ `computeTextSimilarity`**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç—ñ–ª—å–∫–∏ –±—ñ–≥—Ä–∞–º–∏ (2 —Å–ª–æ–≤–∞), –∞–ª–µ –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—î –¥–æ–≤—à—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ.
```javascript
for (let i = 0; i <= words1.length - 2; i++) {
  const window = words1.slice(i, i + 2).join(' '); // –¢—ñ–ª—å–∫–∏ 2 —Å–ª–æ–≤–∞
}
```

### 12. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–µ—à—É–≤–∞–Ω–Ω—è –æ–±—á–∏—Å–ª–µ–Ω—å**
**–ü—Ä–æ–±–ª–µ–º–∞**: `existsInPrimary` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –±–∞–≥–∞—Ç–æ —Ä–∞–∑—ñ–≤ –¥–ª—è –æ–¥–Ω–∏—Ö —ñ —Ç–∏—Ö –∂–µ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤.
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤ –¥–∞–Ω–∏—Ö.

### 13. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –æ–±—Ä–æ–±–∫–æ—é markdown —Ç–∞–±–ª–∏—Ü—ñ**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞—Ä—Å–∏–Ω–≥ markdown –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∏–º:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ñ
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫
- –ü–æ–º–∏–ª–∫–∏ –≤ –ø–∞—Ä—Å–∏–Ω–≥—É —á–∞—Å—É

### 14. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü—ñ—ó –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é.
**–ù–∞—Å–ª—ñ–¥–∫–∏**: –ú–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **–£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å** - –∑–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –æ–±'—î–∫—Ç –∑ `existsInPrimary`
2. **–î–æ–¥–∞—Ç–∏ –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—é –º—ñ–∂ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏** - –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è Blue/Green/Red
3. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—Ä–∞–∑** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –ø–æ—Ä–æ–≥–∏ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—Ä–∞–∑
4. **–î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è —Å–µ–≥–º–µ–Ω—Ç—ñ–≤** - –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ `end` —á–∞—Å –ø—Ä–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—ñ
5. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—é** - –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–∞–∂–ª–∏–≤—É –ø—É–Ω–∫—Ç—É–∞—Ü—ñ—é –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—ñ–ª—å—à —Ä–æ–∑—É–º–Ω—É –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—é
6. **–î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö** - –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é
7. **–î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è** - –∫–µ—à—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ `existsInPrimary` –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
8. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫** - –¥–æ–¥–∞—Ç–∏ try-catch –±–ª–æ–∫–∏ —Ç–∞ fallback –∑–Ω–∞—á–µ–Ω–Ω—è

